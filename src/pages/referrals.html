<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referral Management - Panda Exteriors</title>
    <link rel="stylesheet" href="../assets/css/referrals.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ù Referral Management</h1>
            <div class="territory-badge">
                <a href="/" style="color: white; text-decoration: none;">üè† Home</a>
            </div>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('overview')">üìä Overview</button>
            <button class="nav-tab" onclick="showTab('referrals')">ü§ù All Referrals</button>
            <button class="nav-tab" onclick="showTab('advocates')">üë• Advocates</button>
            <button class="nav-tab" onclick="showTab('payments')">üí∞ Payments</button>
            <button class="nav-tab" onclick="showTab('add')">‚ûï Add Referral</button>
        </div>
        
        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalReferrals">0</div>
                    <div class="stat-label">Total Referrals</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingReferrals">0</div>
                    <div class="stat-label">Pending</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="convertedReferrals">0</div>
                    <div class="stat-label">Converted</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalRewards">$0</div>
                    <div class="stat-label">Total Rewards</div>
                </div>
            </div>
        </div>
        
        <!-- All Referrals Tab -->
        <div id="referrals" class="tab-content">
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Referrer</th>
                            <th>Customer Name</th>
                            <th>Phone</th>
                            <th>Email</th>
                            <th>Address</th>
                            <th>Status</th>
                            <th>Reward</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="referralTableBody">
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Add Referral Tab -->
        <div id="add" class="tab-content">
            <div class="form-container">
                <h3>‚ûï Add New Referral</h3>
                <form id="referralForm">
                    <div class="form-grid">
                        <div>
                            <label for="referrerName">Referrer Name</label>
                            <select id="referrerName" required>
                                <option value="">Select Advocate</option>
                            </select>
                        </div>
                        <div>
                            <label for="customerName">Customer Name</label>
                            <input type="text" id="customerName" required>
                        </div>
                        <div>
                            <label for="customerPhone">Customer Phone</label>
                            <input type="tel" id="customerPhone" required>
                        </div>
                        <div>
                            <label for="customerEmail">Customer Email</label>
                            <input type="email" id="customerEmail">
                        </div>
                        <div class="full-width">
                            <label for="customerAddress">Customer Address</label>
                            <input type="text" id="customerAddress" required>
                        </div>
                        <div>
                            <label for="referralSource">Source</label>
                            <select id="referralSource">
                                <option value="Employee">Employee</option>
                                <option value="Customer">Customer</option>
                                <option value="Partner">Partner</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label for="expectedValue">Expected Value</label>
                            <input type="number" id="expectedValue" placeholder="0">
                        </div>
                    </div>
                    <button type="submit" class="btn">Add Referral</button>
                </form>
            </div>
        </div>
        
        <!-- Advocates Tab -->
        <div id="advocates" class="tab-content">
            <h3>üë• Advocates</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Status</th>
                            <th>Total Referrals</th>
                            <th>Total Rewards</th>
                        </tr>
                    </thead>
                    <tbody id="advocateTableBody">
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Payments Tab -->
        <div id="payments" class="tab-content">
            <h3>üí∞ Pending Payments</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Advocate</th>
                            <th>Amount</th>
                            <th>Lead</th>
                            <th>Date</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="paymentTableBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="../assets/js/referrals.js"></script>
</body>
</html>