<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asset Management - Panda Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-info shadow">
        <div class="container">
            <a class="navbar-brand" href="./"><img src="panda-logo.png" alt="Panda" style="height: 40px;"></a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="dashboard.html">Employees</a>
                <a class="nav-link" href="leads.html">Leads</a>
                <a class="nav-link" href="referrals.html">Referrals</a>
                <a class="nav-link active" href="assets.html">Assets</a>
                <a class="nav-link" href="admin.html">Admin</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h1><i class="fas fa-boxes text-info"></i> Asset Management</h1>
        
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card bg-primary text-white">
                    <div class="card-body text-center">
                        <h3 id="totalAssets">0</h3>
                        <p>Total Assets</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-success text-white">
                    <div class="card-body text-center">
                        <h3 id="availableAssets">0</h3>
                        <p>Available</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-warning text-dark">
                    <div class="card-body text-center">
                        <h3 id="assignedAssets">0</h3>
                        <p>Assigned</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-danger text-white">
                    <div class="card-body text-center">
                        <h3 id="maintenanceAssets">0</h3>
                        <p>Maintenance</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>Asset Categories</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-6">
                                <p><strong>Vehicles:</strong> 12</p>
                                <p><strong>Tools:</strong> 45</p>
                                <p><strong>Equipment:</strong> 23</p>
                            </div>
                            <div class="col-6">
                                <p><strong>Laptops:</strong> 8</p>
                                <p><strong>Phones:</strong> 15</p>
                                <p><strong>Safety Gear:</strong> 67</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>Quick Actions</h5>
                    </div>
                    <div class="card-body">
                        <button class="btn btn-primary mb-2 w-100" onclick="addAsset()">Add New Asset</button>
                        <button class="btn btn-success mb-2 w-100" onclick="assignAsset()">Assign Asset</button>
                        <button class="btn btn-warning mb-2 w-100" onclick="scheduleMaintenace()">Schedule Maintenance</button>
                        <button class="btn btn-info w-100" onclick="generateReport()">Generate Report</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex justify-content-between">
                <h5>Asset Inventory</h5>
                <div>
                    <select class="form-select d-inline-block w-auto me-2" id="categoryFilter" onchange="filterAssets()">
                        <option value="">All Categories</option>
                        <option value="Vehicle">Vehicles</option>
                        <option value="Tool">Tools</option>
                        <option value="Equipment">Equipment</option>
                        <option value="Technology">Technology</option>
                    </select>
                    <input type="text" class="form-control d-inline-block w-auto" id="searchAssets" placeholder="Search..." onkeyup="filterAssets()">
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Asset ID</th>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Status</th>
                                <th>Assigned To</th>
                                <th>Location</th>
                                <th>Last Maintenance</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="assetsTable">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        const assets = [
            { id: 'VH001', name: 'Ford Transit Van', category: 'Vehicle', status: 'Assigned', assignedTo: 'John Smith', location: 'Maryland Office', maintenance: '2025-08-15' },
            { id: 'TL045', name: 'Nail Gun Set', category: 'Tool', status: 'Available', assignedTo: '-', location: 'Tool Storage', maintenance: '2025-09-01' },
            { id: 'EQ012', name: 'Ladder 24ft', category: 'Equipment', status: 'Maintenance', assignedTo: '-', location: 'Repair Shop', maintenance: '2025-09-20' },
            { id: 'LT008', name: 'Dell Laptop', category: 'Technology', status: 'Assigned', assignedTo: 'Sarah Wilson', location: 'Virginia Office', maintenance: '2025-07-10' },
            { id: 'VH002', name: 'Chevy Silverado', category: 'Vehicle', status: 'Available', assignedTo: '-', location: 'Maryland Office', maintenance: '2025-09-05' }
        ];

        let filteredAssets = [...assets];

        document.addEventListener('DOMContentLoaded', function() {
            loadAssets();
            updateStats();
        });

        function loadAssets() {
            const tbody = document.getElementById('assetsTable');
            tbody.innerHTML = '';
            
            filteredAssets.forEach(asset => {
                const statusClass = asset.status === 'Available' ? 'success' : 
                                  asset.status === 'Assigned' ? 'warning' : 'danger';
                
                tbody.innerHTML += `
                    <tr>
                        <td><strong>${asset.id}</strong></td>
                        <td>${asset.name}</td>
                        <td>${asset.category}</td>
                        <td><span class="badge bg-${statusClass}">${asset.status}</span></td>
                        <td>${asset.assignedTo}</td>
                        <td>${asset.location}</td>
                        <td>${asset.maintenance}</td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" onclick="viewAsset('${asset.id}')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-success" onclick="editAsset('${asset.id}')">
                                <i class="fas fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                `;
            });
        }

        function updateStats() {
            const total = assets.length;
            const available = assets.filter(a => a.status === 'Available').length;
            const assigned = assets.filter(a => a.status === 'Assigned').length;
            const maintenance = assets.filter(a => a.status === 'Maintenance').length;
            
            document.getElementById('totalAssets').textContent = total;
            document.getElementById('availableAssets').textContent = available;
            document.getElementById('assignedAssets').textContent = assigned;
            document.getElementById('maintenanceAssets').textContent = maintenance;
        }

        function filterAssets() {
            const category = document.getElementById('categoryFilter').value;
            const search = document.getElementById('searchAssets').value.toLowerCase();
            
            filteredAssets = assets.filter(asset => {
                const matchesCategory = !category || asset.category === category;
                const matchesSearch = !search || 
                    asset.name.toLowerCase().includes(search) ||
                    asset.id.toLowerCase().includes(search) ||
                    asset.assignedTo.toLowerCase().includes(search);
                
                return matchesCategory && matchesSearch;
            });
            
            loadAssets();
        }

        function addAsset() {
            alert('Add Asset: Integration with asset management system');
        }

        function assignAsset() {
            alert('Assign Asset: Select asset and employee for assignment');
        }

        function scheduleMaintenace() {
            alert('Schedule Maintenance: Set maintenance schedule for assets');
        }

        function generateReport() {
            alert('Generate Report: Export asset inventory and usage reports');
        }

        function viewAsset(id) {
            const asset = assets.find(a => a.id === id);
            alert(`Asset Details:\nID: ${asset.id}\nName: ${asset.name}\nStatus: ${asset.status}\nAssigned To: ${asset.assignedTo}`);
        }

        function editAsset(id) {
            alert(`Edit Asset: ${id} - Update asset information and status`);
        }
    </script>
</body>
</html>